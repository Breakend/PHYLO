(function(){function b(a){return document.getElementById(a)}function a(){}a.prototype.listen=function(a,b,c){if(a.addEventListener){a.addEventListener(b,c,false);return}if(a.attachEvent){a.attachEvent("on"+b,c);return}var d=a["on"+b];a["on"+b]=function(a){a=a?a:window.event;var b=c(a);return d!=undefined&&d(a)==true&&b==true}};a.prototype.removeListen=function(a,b){if(a.removeEventListener){a.removeEventListener(b,false);return}};a.prototype.filter=function(a){a=a.replace(/px$/,"");a=a.replace(/^#/,"");return a};a.prototype.cap=function(a){if(a=="faq")return"FAQ";else return a.charAt(0).toUpperCase()+a.slice(1)};a.prototype.exportSingleton=function(a,b,c){if(!window[a]){var d=window[a]=new b;for(var e=0;e<c.length;e++){d[c[e][0]]=c[e][1]}}};a.prototype.dump=function(a){if(b("dump")!=null){b("dump").innerHTML=a}else{var c=document.createElement("div");c.id="dump";document.body.appendChild(c);b("dump").style.zIndex="100";b("dump").style.position="absolute";b("dump").style.right="0px";b("dump").innerHTML=a;b("dump").style.border="dotted"}};a.prototype.alert=function(a,c,d){var e=document,f=window;if(b("alertBox")==undefined){var g=e.createElement("div");g.id="alertBox";e.body.appendChild(g);b("alertBox").style.height="50px";b("alertBox").style.width="100px";b("alertBox").style.top=f.innerHeight/2-25+"px";b("alertBox").style.left=f.innerWidth/2-50+"px";b("alertBox").style.border="dotted";b("alertBox").innerHTML="<div id='alertBoxContent'></div><div id='alertBoxButtons'><label id='alertBoxOk'>Ok</label><label id='alertBoxCancel'>Cancel</label></div>";b("alertBoxOk").style.border="dotted";b("alertBoxCancel").style.border="dotted";this.listen(b("alertBoxOk"),"click",c);this.listen(b("alertBoxCancel"),"click",nohHandeler)}else{b("alertBox").style.display=""}b("alertBoxContent").innerHTML=a};a.prototype.nameFrame=function(){return"random"};a.prototype.makeFrame=function(a,c){var d=document;var e=d.createElement("iframe");e.id=a;e.name=a;e.src=c;d.body.appendChild(e);b(a).height="0";b(a).width="0";b(a).style.displau="none"};a.prototype.checkDevice=function(){var a=["miui","iphone","ipod","series60","symbian","andriod","windows ce","blackberry","palm","ipad"];var b=navigator.userAgent.toLowerCase();if(this.set!=null)return this.set;if(b.search("qt")>-1){this.set="qt";return"qt"}if(b.search("andriod 3.")>-1){this.set="ipad";return"ipad"}if(b.search("android")>-1){this.set="android";return"android"}for(var c=0;c<a.length;c++){if(b.search("webkit")>-1&&b.search(a[c])>-1){this.set=a[c];return a[c]}}this.set="other";return"other"};a.prototype.getNoReply=function(a){var b=function(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];if(window.ActiveXObject){for(var b=0;b<a.length;b++){try{return new ActiveXObject(a[b])}catch(c){}}}else if(window.XMLHttpRequest)return new XMLHttpRequest;else return false};var c=new b;c.onreadystatechange=function(){if(c.readyState==4){};};c.open("GET",a,true);c.send(null)};a.prototype.addExtension=function(a,b){};a.prototype.getEvent=function(a){};a.prototype.checkOrientation=function(){};var c=a.prototype,d=[["listen",c.listen],["exportSingleton",c.exportSingleton],["dump",c.dump],["checkDevice",c.checkDevice],["makeFrame",c.makeFrame],["nameFrame",c.nameFrame],["filter",c.filter],["cap",c.cap],["removeListen",c.removeListen],["addExtension",c.addExtenion],["getNoReply",c.getNoReply]];a.prototype.exportSingleton("common",a,d)})()
